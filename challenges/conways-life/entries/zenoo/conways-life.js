d.map((r,a)=>r.map((r,f)=>{for(n=0,k=3;k--;)for(m=3;m--;)1==k&&1==m||d[a+k-1]&&d[a+k-1][f+m-1]&&n++;return r?n<2?0:n>1&&n<4?1:0:3==n?1:0}))